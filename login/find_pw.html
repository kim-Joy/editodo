<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    @import url("../css/style.css");
    </style>
    <script src="https://www.w3schools.com/lib/w3.js"></script>
  <title>Document</title>
</head>
<body>
  <div id="wrap" class="editodo_wrap">
    <header class="header side_pd">
      <div class="hd_util">
        <button type="button" class="hd_back arrow01"><span class="visuallyhidden">뒤로가기</span></button>
      </div>
      <h3 class="hd_tit">아이디/비밀번호 찾기</h3>
    </header>

    <div class="container editodo_join">
      <!-- S: editodo_inner -->
      <div class="editodo_inner">
        <div class="tab_group">
          <ul class="tab_list">
            <li>
              <button type="button" class="btn_tab tab_id" onclick="location.href='find_id.html'">아이디 찾기</button>
            </li>
            <li class="active">
              <button type="button" class="btn_tab tab_pw" onclick="location.href='find_pw.html'">비밀번호 찾기</button>
            </li>
          </ul>
        </div>

        <div class="side_pd">
          <!-- form_wrap -->
          <div class="form_wrap">
            <form>
              <dl class="form_dl">
                <dt><label for="userId" class="form_label">아이디</label></dt>
                <dd><input type="text" id="userId" class="form_input" placeholder="8-16 자리 영문, 숫자 조합"></dd>
              </dl>
              <dl class="form_dl">
                <dt><label for="userEmail" class="form_label">이메일</label></dt>
                <dd><input type="text" id="userEmail" class="form_input" placeholder="email@email.com"></dd>
              </dl>
              <dl class="form_dl"> 
                <dt><label for="userCall" class="form_label">휴대폰번호</label></dt>
                <dd><input type="text" id="userCall" class="form_input" placeholder="휴대폰 번호 '-'없이 입력"></dd>
              </dl>
            </form>
            <div class="bottom_btn_group">
              <button type="buttton" id="refer" class="btn btn_main full">비밀번호 수정</button>
            </div>
          </div>

          <!-- form_wrap //조회 결과 -->
          <div class="form_wrap result pw">
            <form>
              <dl class="form_dl">
                <dt><label for="userPw_change" class="form_label">비밀번호 수정</label></dt>
                <dd><input type="password" id="userPw_change" class="form_input"></dd>
              </dl>
              <dl class="form_dl"> 
                <dt><label for="userPw_change_chk" class="form_label">비밀번호 확인</label></dt>
                <dd>
                  <input type="password" id="userPw_change_chk" class="form_input" >
                  <p class="field_not">비밀번호가 일치하지 않습니다.</p>
                </dd>
              </dl>
            </form>

            <div class="bottom_btn_group">
              <button type="buttton" id="submit" class="btn btn_main full">비밀번호 수정</button>
              <button type="buttton" class="btn btn_main full" onclick="location.href='login.html'" style="display:none;">로그인</button>
            </div>
          </div>
        </div>
      </div>
      <!-- E: editodo_inner -->
    </div>

    <div class="editodo_fnb" w3-include-html="../include/fnb.html"></div>

  </div>
</body>
</html>


<script>
  const refer = document.querySelector('#refer');
  const user_id = document.querySelector('#userId');
  const user_email = document.querySelector('#userEmail');
  const user_call = document.querySelector('#userCall');
  const result = document.querySelector('.result');
  const pwchage = document.querySelector('#userPw_change');
  const pwchage_chk = document.querySelector('#userPw_change_chk');
  const submit = document.querySelector('#submit');
  const CLASS_NAME = 'field_chk';
  
  
  function handlerRefer(){
    if(user_id.value == "") {
      alert('아이디를 입력하세요.')
      return false;
    } 

    if(user_email.value == "") {
      alert('이메일을 입력하세요.')
      return false;
    } 
  
    if(user_call.value == "") {
      alert('휴대폰 번호를 입력하세요.')
      return false;
    } 
    document.querySelector('.form_wrap').style.display = 'none';
    result.style.display = 'block';
  }

function handlerSubmitPw(){
  if(pwchage.value == "") {
    alert("비밀번호를 입력하세요.")
    return false;
  }

  if(pwchage.value !== pwchage_chk.value) {
    pwchage_chk.classList.add(CLASS_NAME);
    return false;
  } else {
    pwchage_chk.classList.remove(CLASS_NAME);
  }
  
  submit.style.display = "none";
  submit.nextElementSibling.style.display = "block";
  pwchage.readOnly = true;
  pwchage_chk.readOnly = true;
}
  refer.addEventListener("click", handlerRefer);
  submit.addEventListener("click", handlerSubmitPw)
  
  w3.includeHTML();
  </script>