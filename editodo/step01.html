<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
  @import url("../css/style.css");
  </style>
  <link type="text/css" rel="stylesheet" href="../css/slick.css"/>

  <script type="text/javascript" src="./js/jquery-3.6.4.min.js"></script>
  <script type="text/javascript" src="./js/slick.min.js"></script>
  <script type="text/javascript" src="./js/common.js"></script>
  <script type="text/javascript" src="https://www.w3schools.com/lib/w3.js"></script>
  <title>테마선택</title>
</head>
<body>
  <div id="wrap" class="editodo_wrap">

    <div class="container editodo_step">
      <div class="editodo_inner side_pd">
        <ul class="step_process on">
          <li class="on">
            <span class="step_count"></span>
            <span class="step_name">테마선택</span>
          </li>
          <li>
            <span class="step_count"></span>
            <span class="step_name">색상선택</span>
          </li>
          <li>
            <span class="step_count"></span>
            <span class="step_name">선택확인</span>
          </li>
        </ul>

        <section class="section_choose">
          <h3 class="title">내 마음에 드는<br>테마를 골라볼까요?</h3>
          <p class="subtitle">
            나중에 마이페이지에서 수정할 수 있어요.<br>
            더 많은 테마는 E-T에서 열심히 준비 중이에요!
          </p>

          <ul class="layout_option theme">
            <li><button type="button" class="btn_option style_simple">심플</button></li>
            <li><button type="button" class="btn_option style_round">라운드</button></li>
            <li><button type="button" class="btn_option style_skitch">스케치</button></li>
            <li><button type="button" class="btn_option style_kitsch">키치</button></li>
            <li><button type="button" class="btn_option style_square">네모</button></li>
            <li><button type="button" class="btn_option style_triangle">세모</button></li>

          </ul>

          <div class="layout_sample">
            <p class="caption">테마 미리보기</p>
            <div class="sample_preview"> 
              <div class="todolist_table" w3-include-html="../include/sample_skin.html"></div>
            </div>
          </div>
        </section>

        <div class="bottom_btn_group">
          <button type="buttton" onclick="location.href='step02.html'" class="btn btn_main full">다음</button>
        </div>
      </div>
    </div>

  </div>
</body>
</html>

<script>
const preview = document.querySelector('.sample_preview');

// 옵션 - 슬라이드 이동 후 이벤트 시작
$('.layout_option').on('afterChange', function(){
  const current = document.querySelector('.slick-current').children;
  let target = current[0].classList[1];

  $(this).find('.slick-current').addClass('on');
  preview.classList.add(target); 
  sessionStorage.setItem('theme' ,target);

});

//옵션  - 슬라이드 이동 전 이벤트 시작
$('.layout_option').on('beforeChange', function(){
const current = document.querySelector('.slick-current').children;
let target = current[0].classList[1];
  $('.slick-slide').removeClass('on');
  preview.classList.remove(target);
});

w3.includeHTML();
</script>