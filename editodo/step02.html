<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
  @import url("../css/style.css");
  </style>
  <link type="text/css" rel="stylesheet" href="../css/slick.css"/>

  <script type="text/javascript" src="../js/jquery-3.6.4.min.js"></script>
  <script type="text/javascript" src="../js/slick.min.js"></script>
  <script type="text/javascript" src="../js/common.js"></script>
  <script type="text/javascript" src="https://www.w3schools.com/lib/w3.js"></script>
  <title>색상선택</title>
</head>
<body>
  <div id="wrap" class="editodo_wrap">
    <div class="container editodo_step">
      <div class="editodo_inner side_pd">
        <ul class="step_process on step2">
          <li>
            <span class="step_count"></span>
            <span class="step_name">테마선택</span>
          </li>
          <li class="on">
            <span class="step_count"></span>
            <span class="step_name">색상선택</span>
          </li>
          <li>
            <span class="step_count"></span>
            <span class="step_name">선택확인</span>
          </li>
        </ul>

        <section class="section_choose">
          <h3 class="title"><span class="font_main">심플</span> 테마의 추천 색상!<br>좋아하는 색상으로 골라봐요:)</h3>
          <p class="subtitle">
            나중에 마이페이지에서 수정할 수 있어요.<br>
            [배경색/포인트색] 원하는 색상을 아래에서 골라봐요!
          </p>

          <ul class="layout_option color">
            <li>
              <button type="button" class="btn_option default">
                <span style="background-color: #f5f5f5;">#f5f5f5</span>
                <span style="background-color: #222;">#222</span>
              </button>
            </li>
            <li>
              <button type="button" class="btn_option darkmode">
                <span style="background-color: #12120A;">#12120A</span>
                <span style="background-color: #D8D8D8;">#D8D8D8</span>
              </button>
            </li>
            <li>
              <button type="button" class="btn_option palette_mincho">
                <span style="background-color: #D8F0EF;">#D8F0EF</span>
                <span style="background-color: #997B6A;">#997B6A</span>
              </button>
            </li>
            <li>
              <button type="button" class="btn_option palette_cherrylemon">
                <span style="background-color: #FFF3CA;">#FFF3CA</span>
                <span style="background-color: #F3637D;">#F3637D</span>
              </button>
            </li>
            <li>
              <button type="button" class="btn_option palette_green">
                <span style="background-color: #F3FEF0;">#F3FEF0</span>
                <span style="background-color: #228262;">#228262</span>
              </button>
            </li>
          </ul>

          <div class="layout_sample">
            <p class="caption">테마 미리보기</p>
            <div class="sample_preview">
              <div class="todolist_table" w3-include-html="../include/sample_skin.html"></div>
            </div>
          </div>
        </section>

        <div class="bottom_btn_group horzion">
          <button type="buttton" onclick="location.href='step01.html'" class="btn btn_prev">이전</button>
          <button type="buttton" onclick="location.href='step03.html'" class="btn btn_main">다음</button>
        </div>
      </div>
    </div>

  </div>
</body>
</html>

<script>
$(function(){
  const preview = document.querySelector('.sample_preview');
  const theme = sessionStorage.getItem('theme');

  preview.classList.add(theme);
  // 옵션 - 슬라이드 이동 후 이벤트 시작
  $('.layout_option').on('afterChange', function(){
    const current = document.querySelector('.slick-current').children;
    let target = current[0].classList[1];

    $(this).find('.slick-current').addClass('on');
    preview.classList.add(target); 
    sessionStorage.setItem('color' ,target);

  });

  //옵션  - 슬라이드 이동 전 이벤트 시작
  $('.layout_option').on('beforeChange', function(){
  const current = document.querySelector('.slick-current').children;
  let target = current[0].classList[1];
    $('.slick-slide').removeClass('on');
    preview.classList.remove(target);
  });

}); //End

  w3.includeHTML();
</script>
