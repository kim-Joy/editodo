<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
  @import url("../css/style.css");
  </style>
  <link type="text/css" rel="stylesheet" href="../css/slick.css"/>

  <script type="text/javascript" src="../js/jquery-3.6.4.min.js"></script>
  <script type="text/javascript" src="../js/slick.min.js"></script>
  <script type="text/javascript" src="../js/common.js"></script>
  <script type="text/javascript" src="https://www.w3schools.com/lib/w3.js"></script>
  <title>마이페이지</title>
</head>
<body>
  <div id="wrap" class="editodo_wrap">
    <header class="header side_pd">
      <div class="hd_util">
        <button type="button" class="hd_back arrow01"><span class="visuallyhidden">뒤로가기</span></button>
      </div>
      <h3 class="hd_tit">회원정보 수정</h3>
    </header>

    <div class="container editodo_mypage bg-white">
      <div class="editodo_inner side_pd">
        <div class="form_wrap">
          <form action="">
            <dl class="form_dl">
              <dt><label for="userId" class="form_label">아이디</label></dt>
              <dd><input type="text" id="userId" class="form_input readonly" value="mine5959" readonly></dd>
            </dl>
            <dl class="form_dl">
              <dt><label for="userEmail" class="form_label">이메일</label></dt>
              <dd><input type="text" id="userEmail" class="form_input" value="mine@email.com" placeholder="email@emai.com"></dd>
            </dl>
            <div class="form_dl form_confirm" style="display: none;">
              <div class="confirm_num">
                <label for="input_confrim_Num" class="visuallyhidden">인증번호</label>
                <input type="text" id="input_confrim_Num" class="form_input">
                <button type="button" id="btn_confirm_chk" class="btn btn_main full">인증번호 확인</button>
              </div>
              <p class="field_not">인증번호가 일치하지 않습니다.</p>
            </div>
          </form>
          <div class="bottom_btn_group">
            <button type="button" id="btn_email_confirm" class="btn btn_main full">이메일 인증</button>
            <button type="button" id="submit" class="btn btn_main full" disabled style="display: none;">수정</button>
          </div>
        </div>
      </div>
    </div>

    <div class="editodo_fnb" w3-include-html="../include/fnb.html"></div>

  </div>
</body>
</html>

<script>
const btnConfirm = document.querySelector("#btn_email_confirm");
const formConfirm = document.querySelector(".form_confirm");
const confirmChk = document.querySelector("#btn_confirm_chk");
const ConfirmNum = document.querySelector("#input_confrim_Num");
const submit = document.querySelector("#submit");

btnConfirm.addEventListener("click", function(){
  formConfirm.style.display = 'block'; 
  btnConfirm.style.display = 'none';
  document.querySelector('#userEmail').disabled = true;
  submit.style.display = 'block'; 
});

confirmChk.addEventListener("click", function(){
  if(ConfirmNum.value == ""){
    ConfirmNum.classList.add('field_chk');
    document.querySelector('.field_not').style.display = 'block';
    return false;
  }
  ConfirmNum.disabled = true;
  ConfirmNum.classList.remove('field_chk');
  document.querySelector('.field_not').style.display = 'none';
  submit.disabled = false;
});

submit.addEventListener("click", function(){
  const change_email = document.querySelector('#userEmail').value
  console.log(change_email);
});


w3.includeHTML();
</script>